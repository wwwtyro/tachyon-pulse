!function t(n,r,e){function u(i,o){if(!r[i]){if(!n[i]){var s="function"==typeof require&&require;if(!o&&s)return s(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[i]={exports:{}};n[i][0].call(f.exports,function(t){var r=n[i][1][t];return u(r?r:t)},f,f.exports,t,n,r,e)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<e.length;i++)u(e[i]);return u}({1:[function(t,n,r){!function(){"use strict";var t={};"undefined"==typeof r?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.exports={},define(function(){return t.exports})):t.exports=window:t.exports=r,function(t){if(!n)var n=1e-6;if(!r)var r="undefined"!=typeof Float32Array?Float32Array:Array;var e={};e.setMatrixArrayType=function(t){r=t},"undefined"!=typeof t&&(t.glMatrix=e);var u={};u.create=function(){var t=new r(2);return t[0]=0,t[1]=0,t},u.clone=function(t){var n=new r(2);return n[0]=t[0],n[1]=t[1],n},u.fromValues=function(t,n){var e=new r(2);return e[0]=t,e[1]=n,e},u.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},u.set=function(t,n,r){return t[0]=n,t[1]=r,t},u.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t},u.subtract=function(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t},u.sub=u.subtract,u.multiply=function(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t},u.mul=u.multiply,u.divide=function(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t},u.div=u.divide,u.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t},u.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t},u.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t},u.distance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1];return Math.sqrt(r*r+e*e)},u.dist=u.distance,u.squaredDistance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1];return r*r+e*e},u.sqrDist=u.squaredDistance,u.length=function(t){var n=t[0],r=t[1];return Math.sqrt(n*n+r*r)},u.len=u.length,u.squaredLength=function(t){var n=t[0],r=t[1];return n*n+r*r},u.sqrLen=u.squaredLength,u.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},u.normalize=function(t,n){var r=n[0],e=n[1],u=r*r+e*e;return u>0&&(u=1/Math.sqrt(u),t[0]=n[0]*u,t[1]=n[1]*u),t},u.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},u.cross=function(t,n,r){var e=n[0]*r[1]-n[1]*r[0];return t[0]=t[1]=0,t[2]=e,t},u.lerp=function(t,n,r,e){var u=n[0],a=n[1];return t[0]=u+e*(r[0]-u),t[1]=a+e*(r[1]-a),t},u.transformMat2=function(t,n,r){var e=n[0],u=n[1];return t[0]=r[0]*e+r[2]*u,t[1]=r[1]*e+r[3]*u,t},u.transformMat2d=function(t,n,r){var e=n[0],u=n[1];return t[0]=r[0]*e+r[2]*u+r[4],t[1]=r[1]*e+r[3]*u+r[5],t},u.transformMat3=function(t,n,r){var e=n[0],u=n[1];return t[0]=r[0]*e+r[3]*u+r[6],t[1]=r[1]*e+r[4]*u+r[7],t},u.transformMat4=function(t,n,r){var e=n[0],u=n[1];return t[0]=r[0]*e+r[4]*u+r[12],t[1]=r[1]*e+r[5]*u+r[13],t},u.forEach=function(){var t=u.create();return function(n,r,e,u,a,i){var o,s;for(r||(r=2),e||(e=0),s=u?Math.min(u*r+e,n.length):n.length,o=e;s>o;o+=r)t[0]=n[o],t[1]=n[o+1],a(t,t,i),n[o]=t[0],n[o+1]=t[1];return n}}(),u.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},"undefined"!=typeof t&&(t.vec2=u);var a={};a.create=function(){var t=new r(3);return t[0]=0,t[1]=0,t[2]=0,t},a.clone=function(t){var n=new r(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},a.fromValues=function(t,n,e){var u=new r(3);return u[0]=t,u[1]=n,u[2]=e,u},a.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},a.set=function(t,n,r,e){return t[0]=n,t[1]=r,t[2]=e,t},a.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},a.subtract=function(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t},a.sub=a.subtract,a.multiply=function(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t},a.mul=a.multiply,a.divide=function(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t},a.div=a.divide,a.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t},a.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t},a.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t},a.distance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],u=n[2]-t[2];return Math.sqrt(r*r+e*e+u*u)},a.dist=a.distance,a.squaredDistance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],u=n[2]-t[2];return r*r+e*e+u*u},a.sqrDist=a.squaredDistance,a.length=function(t){var n=t[0],r=t[1],e=t[2];return Math.sqrt(n*n+r*r+e*e)},a.len=a.length,a.squaredLength=function(t){var n=t[0],r=t[1],e=t[2];return n*n+r*r+e*e},a.sqrLen=a.squaredLength,a.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},a.normalize=function(t,n){var r=n[0],e=n[1],u=n[2],a=r*r+e*e+u*u;return a>0&&(a=1/Math.sqrt(a),t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a),t},a.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},a.cross=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=r[0],o=r[1],s=r[2];return t[0]=u*s-a*o,t[1]=a*i-e*s,t[2]=e*o-u*i,t},a.lerp=function(t,n,r,e){var u=n[0],a=n[1],i=n[2];return t[0]=u+e*(r[0]-u),t[1]=a+e*(r[1]-a),t[2]=i+e*(r[2]-i),t},a.transformMat4=function(t,n,r){var e=n[0],u=n[1],a=n[2];return t[0]=r[0]*e+r[4]*u+r[8]*a+r[12],t[1]=r[1]*e+r[5]*u+r[9]*a+r[13],t[2]=r[2]*e+r[6]*u+r[10]*a+r[14],t},a.transformQuat=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=r[0],o=r[1],s=r[2],c=r[3],f=c*e+o*a-s*u,h=c*u+s*e-i*a,l=c*a+i*u-o*e,p=-i*e-o*u-s*a;return t[0]=f*c+p*-i+h*-s-l*-o,t[1]=h*c+p*-o+l*-i-f*-s,t[2]=l*c+p*-s+f*-o-h*-i,t},a.forEach=function(){var t=a.create();return function(n,r,e,u,a,i){var o,s;for(r||(r=3),e||(e=0),s=u?Math.min(u*r+e,n.length):n.length,o=e;s>o;o+=r)t[0]=n[o],t[1]=n[o+1],t[2]=n[o+2],a(t,t,i),n[o]=t[0],n[o+1]=t[1],n[o+2]=t[2];return n}}(),a.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},"undefined"!=typeof t&&(t.vec3=a);var i={};i.create=function(){var t=new r(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var n=new r(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},i.fromValues=function(t,n,e,u){var a=new r(4);return a[0]=t,a[1]=n,a[2]=e,a[3]=u,a},i.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},i.set=function(t,n,r,e,u){return t[0]=n,t[1]=r,t[2]=e,t[3]=u,t},i.add=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},i.subtract=function(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t},i.sub=i.subtract,i.multiply=function(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t[3]=n[3]*r[3],t},i.mul=i.multiply,i.divide=function(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t[3]=n[3]/r[3],t},i.div=i.divide,i.min=function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t[3]=Math.min(n[3],r[3]),t},i.max=function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t[3]=Math.max(n[3],r[3]),t},i.scale=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},i.distance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],u=n[2]-t[2],a=n[3]-t[3];return Math.sqrt(r*r+e*e+u*u+a*a)},i.dist=i.distance,i.squaredDistance=function(t,n){var r=n[0]-t[0],e=n[1]-t[1],u=n[2]-t[2],a=n[3]-t[3];return r*r+e*e+u*u+a*a},i.sqrDist=i.squaredDistance,i.length=function(t){var n=t[0],r=t[1],e=t[2],u=t[3];return Math.sqrt(n*n+r*r+e*e+u*u)},i.len=i.length,i.squaredLength=function(t){var n=t[0],r=t[1],e=t[2],u=t[3];return n*n+r*r+e*e+u*u},i.sqrLen=i.squaredLength,i.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},i.normalize=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=r*r+e*e+u*u+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=n[3]*i),t},i.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},i.lerp=function(t,n,r,e){var u=n[0],a=n[1],i=n[2],o=n[3];return t[0]=u+e*(r[0]-u),t[1]=a+e*(r[1]-a),t[2]=i+e*(r[2]-i),t[3]=o+e*(r[3]-o),t},i.transformMat4=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3];return t[0]=r[0]*e+r[4]*u+r[8]*a+r[12]*i,t[1]=r[1]*e+r[5]*u+r[9]*a+r[13]*i,t[2]=r[2]*e+r[6]*u+r[10]*a+r[14]*i,t[3]=r[3]*e+r[7]*u+r[11]*a+r[15]*i,t},i.transformQuat=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=r[0],o=r[1],s=r[2],c=r[3],f=c*e+o*a-s*u,h=c*u+s*e-i*a,l=c*a+i*u-o*e,p=-i*e-o*u-s*a;return t[0]=f*c+p*-i+h*-s-l*-o,t[1]=h*c+p*-o+l*-i-f*-s,t[2]=l*c+p*-s+f*-o-h*-i,t},i.forEach=function(){var t=i.create();return function(n,r,e,u,a,i){var o,s;for(r||(r=4),e||(e=0),s=u?Math.min(u*r+e,n.length):n.length,o=e;s>o;o+=r)t[0]=n[o],t[1]=n[o+1],t[2]=n[o+2],t[3]=n[o+3],a(t,t,i),n[o]=t[0],n[o+1]=t[1],n[o+2]=t[2],n[o+3]=t[3];return n}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&&(t.vec4=i);{var o={};new Float32Array([1,0,0,1])}o.create=function(){var t=new r(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var n=new r(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},o.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.transpose=function(t,n){if(t===n){var r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},o.invert=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=r*a-u*e;return i?(i=1/i,t[0]=a*i,t[1]=-e*i,t[2]=-u*i,t[3]=r*i,t):null},o.adjoint=function(t,n){var r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=r[0],s=r[1],c=r[2],f=r[3];return t[0]=e*o+u*c,t[1]=e*s+u*f,t[2]=a*o+i*c,t[3]=a*s+i*f,t},o.mul=o.multiply,o.rotate=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=Math.sin(r),s=Math.cos(r);return t[0]=e*s+u*o,t[1]=e*-o+u*s,t[2]=a*s+i*o,t[3]=a*-o+i*s,t},o.scale=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=r[0],s=r[1];return t[0]=e*o,t[1]=u*s,t[2]=a*o,t[3]=i*s,t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&&(t.mat2=o);{var s={};new Float32Array([1,0,0,1,0,0])}s.create=function(){var t=new r(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},s.clone=function(t){var n=new r(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},s.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},s.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},s.invert=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=n[4],o=n[5],s=r*a-e*u;return s?(s=1/s,t[0]=a*s,t[1]=-e*s,t[2]=-u*s,t[3]=r*s,t[4]=(u*o-a*i)*s,t[5]=(e*i-r*o)*s,t):null},s.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},s.multiply=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=n[4],s=n[5],c=r[0],f=r[1],h=r[2],l=r[3],p=r[4],v=r[5];return t[0]=e*c+u*h,t[1]=e*f+u*l,t[2]=a*c+i*h,t[3]=a*f+i*l,t[4]=c*o+h*s+p,t[5]=f*o+l*s+v,t},s.mul=s.multiply,s.rotate=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=n[4],s=n[5],c=Math.sin(r),f=Math.cos(r);return t[0]=e*f+u*c,t[1]=-e*c+u*f,t[2]=a*f+i*c,t[3]=-a*c+f*i,t[4]=f*o+c*s,t[5]=f*s-c*o,t},s.scale=function(t,n,r){var e=r[0],u=r[1];return t[0]=n[0]*e,t[1]=n[1]*u,t[2]=n[2]*e,t[3]=n[3]*u,t[4]=n[4]*e,t[5]=n[5]*u,t},s.translate=function(t,n,r){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4]+r[0],t[5]=n[5]+r[1],t},s.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},"undefined"!=typeof t&&(t.mat2d=s);{var c={};new Float32Array([1,0,0,0,1,0,0,0,1])}c.create=function(){var t=new r(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},c.clone=function(t){var n=new r(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},c.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},c.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},c.transpose=function(t,n){if(t===n){var r=n[1],e=n[2],u=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=e,t[7]=u}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},c.invert=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=n[4],o=n[5],s=n[6],c=n[7],f=n[8],h=f*i-o*c,l=-f*a+o*s,p=c*a-i*s,v=r*h+e*l+u*p;return v?(v=1/v,t[0]=h*v,t[1]=(-f*e+u*c)*v,t[2]=(o*e-u*i)*v,t[3]=l*v,t[4]=(f*r-u*s)*v,t[5]=(-o*r+u*a)*v,t[6]=p*v,t[7]=(-c*r+e*s)*v,t[8]=(i*r-e*a)*v,t):null},c.adjoint=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=n[4],o=n[5],s=n[6],c=n[7],f=n[8];return t[0]=i*f-o*c,t[1]=u*c-e*f,t[2]=e*o-u*i,t[3]=o*s-a*f,t[4]=r*f-u*s,t[5]=u*a-r*o,t[6]=a*c-i*s,t[7]=e*s-r*c,t[8]=r*i-e*a,t},c.determinant=function(t){var n=t[0],r=t[1],e=t[2],u=t[3],a=t[4],i=t[5],o=t[6],s=t[7],c=t[8];return n*(c*a-i*s)+r*(-c*u+i*o)+e*(s*u-a*o)},c.multiply=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=r[0],p=r[1],v=r[2],d=r[3],m=r[4],M=r[5],y=r[6],x=r[7],g=r[8];return t[0]=l*e+p*i+v*c,t[1]=l*u+p*o+v*f,t[2]=l*a+p*s+v*h,t[3]=d*e+m*i+M*c,t[4]=d*u+m*o+M*f,t[5]=d*a+m*s+M*h,t[6]=y*e+x*i+g*c,t[7]=y*u+x*o+g*f,t[8]=y*a+x*s+g*h,t},c.mul=c.multiply,c.translate=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=r[0],p=r[1];return t[0]=e,t[1]=u,t[2]=a,t[3]=i,t[4]=o,t[5]=s,t[6]=l*e+p*i+c,t[7]=l*u+p*o+f,t[8]=l*a+p*s+h,t},c.rotate=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=Math.sin(r),p=Math.cos(r);return t[0]=p*e+l*i,t[1]=p*u+l*o,t[2]=p*a+l*s,t[3]=p*i-l*e,t[4]=p*o-l*u,t[5]=p*s-l*a,t[6]=c,t[7]=f,t[8]=h,t},c.scale=function(t,n,r){var e=r[0],u=r[2];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=u*n[3],t[4]=u*n[4],t[5]=u*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},c.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},c.fromQuat=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=r+r,o=e+e,s=u+u,c=r*i,f=r*o,h=r*s,l=e*o,p=e*s,v=u*s,d=a*i,m=a*o,M=a*s;return t[0]=1-(l+v),t[1]=f+M,t[2]=h-m,t[3]=f-M,t[4]=1-(c+v),t[5]=p+d,t[6]=h+m,t[7]=p-d,t[8]=1-(c+l),t},c.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},"undefined"!=typeof t&&(t.mat3=c);{var f={};new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}f.create=function(){var t=new r(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},f.clone=function(t){var n=new r(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},f.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},f.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},f.transpose=function(t,n){if(t===n){var r=n[1],e=n[2],u=n[3],a=n[6],i=n[7],o=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=e,t[9]=a,t[11]=n[14],t[12]=u,t[13]=i,t[14]=o}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},f.invert=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=n[4],o=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],p=n[11],v=n[12],d=n[13],m=n[14],M=n[15],y=r*o-e*i,x=r*s-u*i,g=r*c-a*i,w=e*s-u*o,q=e*c-a*o,b=u*c-a*s,k=f*d-h*v,_=f*m-l*v,A=f*M-p*v,L=h*m-l*d,j=h*M-p*d,D=l*M-p*m,z=y*D-x*j+g*L+w*A-q*_+b*k;return z?(z=1/z,t[0]=(o*D-s*j+c*L)*z,t[1]=(u*j-e*D-a*L)*z,t[2]=(d*b-m*q+M*w)*z,t[3]=(l*q-h*b-p*w)*z,t[4]=(s*A-i*D-c*_)*z,t[5]=(r*D-u*A+a*_)*z,t[6]=(m*g-v*b-M*x)*z,t[7]=(f*b-l*g+p*x)*z,t[8]=(i*j-o*A+c*k)*z,t[9]=(e*A-r*j-a*k)*z,t[10]=(v*q-d*g+M*y)*z,t[11]=(h*g-f*q-p*y)*z,t[12]=(o*_-i*L-s*k)*z,t[13]=(r*L-e*_+u*k)*z,t[14]=(d*x-v*w-m*y)*z,t[15]=(f*w-h*x+l*y)*z,t):null},f.adjoint=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=n[4],o=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],p=n[11],v=n[12],d=n[13],m=n[14],M=n[15];return t[0]=o*(l*M-p*m)-h*(s*M-c*m)+d*(s*p-c*l),t[1]=-(e*(l*M-p*m)-h*(u*M-a*m)+d*(u*p-a*l)),t[2]=e*(s*M-c*m)-o*(u*M-a*m)+d*(u*c-a*s),t[3]=-(e*(s*p-c*l)-o*(u*p-a*l)+h*(u*c-a*s)),t[4]=-(i*(l*M-p*m)-f*(s*M-c*m)+v*(s*p-c*l)),t[5]=r*(l*M-p*m)-f*(u*M-a*m)+v*(u*p-a*l),t[6]=-(r*(s*M-c*m)-i*(u*M-a*m)+v*(u*c-a*s)),t[7]=r*(s*p-c*l)-i*(u*p-a*l)+f*(u*c-a*s),t[8]=i*(h*M-p*d)-f*(o*M-c*d)+v*(o*p-c*h),t[9]=-(r*(h*M-p*d)-f*(e*M-a*d)+v*(e*p-a*h)),t[10]=r*(o*M-c*d)-i*(e*M-a*d)+v*(e*c-a*o),t[11]=-(r*(o*p-c*h)-i*(e*p-a*h)+f*(e*c-a*o)),t[12]=-(i*(h*m-l*d)-f*(o*m-s*d)+v*(o*l-s*h)),t[13]=r*(h*m-l*d)-f*(e*m-u*d)+v*(e*l-u*h),t[14]=-(r*(o*m-s*d)-i*(e*m-u*d)+v*(e*s-u*o)),t[15]=r*(o*l-s*h)-i*(e*l-u*h)+f*(e*s-u*o),t},f.determinant=function(t){var n=t[0],r=t[1],e=t[2],u=t[3],a=t[4],i=t[5],o=t[6],s=t[7],c=t[8],f=t[9],h=t[10],l=t[11],p=t[12],v=t[13],d=t[14],m=t[15],M=n*i-r*a,y=n*o-e*a,x=n*s-u*a,g=r*o-e*i,w=r*s-u*i,q=e*s-u*o,b=c*v-f*p,k=c*d-h*p,_=c*m-l*p,A=f*d-h*v,L=f*m-l*v,j=h*m-l*d;return M*j-y*L+x*A+g*_-w*k+q*b},f.multiply=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=n[9],p=n[10],v=n[11],d=n[12],m=n[13],M=n[14],y=n[15],x=r[0],g=r[1],w=r[2],q=r[3];return t[0]=x*e+g*o+w*h+q*d,t[1]=x*u+g*s+w*l+q*m,t[2]=x*a+g*c+w*p+q*M,t[3]=x*i+g*f+w*v+q*y,x=r[4],g=r[5],w=r[6],q=r[7],t[4]=x*e+g*o+w*h+q*d,t[5]=x*u+g*s+w*l+q*m,t[6]=x*a+g*c+w*p+q*M,t[7]=x*i+g*f+w*v+q*y,x=r[8],g=r[9],w=r[10],q=r[11],t[8]=x*e+g*o+w*h+q*d,t[9]=x*u+g*s+w*l+q*m,t[10]=x*a+g*c+w*p+q*M,t[11]=x*i+g*f+w*v+q*y,x=r[12],g=r[13],w=r[14],q=r[15],t[12]=x*e+g*o+w*h+q*d,t[13]=x*u+g*s+w*l+q*m,t[14]=x*a+g*c+w*p+q*M,t[15]=x*i+g*f+w*v+q*y,t},f.mul=f.multiply,f.translate=function(t,n,r){var e,u,a,i,o,s,c,f,h,l,p,v,d=r[0],m=r[1],M=r[2];return n===t?(t[12]=n[0]*d+n[4]*m+n[8]*M+n[12],t[13]=n[1]*d+n[5]*m+n[9]*M+n[13],t[14]=n[2]*d+n[6]*m+n[10]*M+n[14],t[15]=n[3]*d+n[7]*m+n[11]*M+n[15]):(e=n[0],u=n[1],a=n[2],i=n[3],o=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=n[9],p=n[10],v=n[11],t[0]=e,t[1]=u,t[2]=a,t[3]=i,t[4]=o,t[5]=s,t[6]=c,t[7]=f,t[8]=h,t[9]=l,t[10]=p,t[11]=v,t[12]=e*d+o*m+h*M+n[12],t[13]=u*d+s*m+l*M+n[13],t[14]=a*d+c*m+p*M+n[14],t[15]=i*d+f*m+v*M+n[15]),t},f.scale=function(t,n,r){var e=r[0],u=r[1],a=r[2];return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*u,t[5]=n[5]*u,t[6]=n[6]*u,t[7]=n[7]*u,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=n[11]*a,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},f.rotate=function(t,r,e,u){var a,i,o,s,c,f,h,l,p,v,d,m,M,y,x,g,w,q,b,k,_,A,L,j,D=u[0],z=u[1],F=u[2],O=Math.sqrt(D*D+z*z+F*F);return Math.abs(O)<n?null:(O=1/O,D*=O,z*=O,F*=O,a=Math.sin(e),i=Math.cos(e),o=1-i,s=r[0],c=r[1],f=r[2],h=r[3],l=r[4],p=r[5],v=r[6],d=r[7],m=r[8],M=r[9],y=r[10],x=r[11],g=D*D*o+i,w=z*D*o+F*a,q=F*D*o-z*a,b=D*z*o-F*a,k=z*z*o+i,_=F*z*o+D*a,A=D*F*o+z*a,L=z*F*o-D*a,j=F*F*o+i,t[0]=s*g+l*w+m*q,t[1]=c*g+p*w+M*q,t[2]=f*g+v*w+y*q,t[3]=h*g+d*w+x*q,t[4]=s*b+l*k+m*_,t[5]=c*b+p*k+M*_,t[6]=f*b+v*k+y*_,t[7]=h*b+d*k+x*_,t[8]=s*A+l*L+m*j,t[9]=c*A+p*L+M*j,t[10]=f*A+v*L+y*j,t[11]=h*A+d*L+x*j,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},f.rotateX=function(t,n,r){var e=Math.sin(r),u=Math.cos(r),a=n[4],i=n[5],o=n[6],s=n[7],c=n[8],f=n[9],h=n[10],l=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=a*u+c*e,t[5]=i*u+f*e,t[6]=o*u+h*e,t[7]=s*u+l*e,t[8]=c*u-a*e,t[9]=f*u-i*e,t[10]=h*u-o*e,t[11]=l*u-s*e,t},f.rotateY=function(t,n,r){var e=Math.sin(r),u=Math.cos(r),a=n[0],i=n[1],o=n[2],s=n[3],c=n[8],f=n[9],h=n[10],l=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=a*u-c*e,t[1]=i*u-f*e,t[2]=o*u-h*e,t[3]=s*u-l*e,t[8]=a*e+c*u,t[9]=i*e+f*u,t[10]=o*e+h*u,t[11]=s*e+l*u,t},f.rotateZ=function(t,n,r){var e=Math.sin(r),u=Math.cos(r),a=n[0],i=n[1],o=n[2],s=n[3],c=n[4],f=n[5],h=n[6],l=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=a*u+c*e,t[1]=i*u+f*e,t[2]=o*u+h*e,t[3]=s*u+l*e,t[4]=c*u-a*e,t[5]=f*u-i*e,t[6]=h*u-o*e,t[7]=l*u-s*e,t},f.fromRotationTranslation=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=e+e,s=u+u,c=a+a,f=e*o,h=e*s,l=e*c,p=u*s,v=u*c,d=a*c,m=i*o,M=i*s,y=i*c;return t[0]=1-(p+d),t[1]=h+y,t[2]=l-M,t[3]=0,t[4]=h-y,t[5]=1-(f+d),t[6]=v+m,t[7]=0,t[8]=l+M,t[9]=v-m,t[10]=1-(f+p),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},f.fromQuat=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=r+r,o=e+e,s=u+u,c=r*i,f=r*o,h=r*s,l=e*o,p=e*s,v=u*s,d=a*i,m=a*o,M=a*s;return t[0]=1-(l+v),t[1]=f+M,t[2]=h-m,t[3]=0,t[4]=f-M,t[5]=1-(c+v),t[6]=p+d,t[7]=0,t[8]=h+m,t[9]=p-d,t[10]=1-(c+l),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},f.frustum=function(t,n,r,e,u,a,i){var o=1/(r-n),s=1/(u-e),c=1/(a-i);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*s,t[6]=0,t[7]=0,t[8]=(r+n)*o,t[9]=(u+e)*s,t[10]=(i+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*a*2*c,t[15]=0,t},f.perspective=function(t,n,r,e,u){var a=1/Math.tan(n/2),i=1/(e-u);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(u+e)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*u*e*i,t[15]=0,t},f.ortho=function(t,n,r,e,u,a,i){var o=1/(n-r),s=1/(e-u),c=1/(a-i);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+r)*o,t[13]=(u+e)*s,t[14]=(i+a)*c,t[15]=1,t},f.lookAt=function(t,r,e,u){var a,i,o,s,c,h,l,p,v,d,m=r[0],M=r[1],y=r[2],x=u[0],g=u[1],w=u[2],q=e[0],b=e[1],k=e[2];return Math.abs(m-q)<n&&Math.abs(M-b)<n&&Math.abs(y-k)<n?f.identity(t):(l=m-q,p=M-b,v=y-k,d=1/Math.sqrt(l*l+p*p+v*v),l*=d,p*=d,v*=d,a=g*v-w*p,i=w*l-x*v,o=x*p-g*l,d=Math.sqrt(a*a+i*i+o*o),d?(d=1/d,a*=d,i*=d,o*=d):(a=0,i=0,o=0),s=p*o-v*i,c=v*a-l*o,h=l*i-p*a,d=Math.sqrt(s*s+c*c+h*h),d?(d=1/d,s*=d,c*=d,h*=d):(s=0,c=0,h=0),t[0]=a,t[1]=s,t[2]=l,t[3]=0,t[4]=i,t[5]=c,t[6]=p,t[7]=0,t[8]=o,t[9]=h,t[10]=v,t[11]=0,t[12]=-(a*m+i*M+o*y),t[13]=-(s*m+c*M+h*y),t[14]=-(l*m+p*M+v*y),t[15]=1,t)},f.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},"undefined"!=typeof t&&(t.mat4=f);{var h={};new Float32Array([0,0,0,1])}h.create=function(){var t=new r(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},h.clone=i.clone,h.fromValues=i.fromValues,h.copy=i.copy,h.set=i.set,h.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},h.setAxisAngle=function(t,n,r){r=.5*r;var e=Math.sin(r);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(r),t},h.add=i.add,h.multiply=function(t,n,r){var e=n[0],u=n[1],a=n[2],i=n[3],o=r[0],s=r[1],c=r[2],f=r[3];return t[0]=e*f+i*o+u*c-a*s,t[1]=u*f+i*s+a*o-e*c,t[2]=a*f+i*c+e*s-u*o,t[3]=i*f-e*o-u*s-a*c,t},h.mul=h.multiply,h.scale=i.scale,h.rotateX=function(t,n,r){r*=.5;var e=n[0],u=n[1],a=n[2],i=n[3],o=Math.sin(r),s=Math.cos(r);return t[0]=e*s+i*o,t[1]=u*s+a*o,t[2]=a*s-u*o,t[3]=i*s-e*o,t},h.rotateY=function(t,n,r){r*=.5;var e=n[0],u=n[1],a=n[2],i=n[3],o=Math.sin(r),s=Math.cos(r);return t[0]=e*s-a*o,t[1]=u*s+i*o,t[2]=a*s+e*o,t[3]=i*s-u*o,t},h.rotateZ=function(t,n,r){r*=.5;var e=n[0],u=n[1],a=n[2],i=n[3],o=Math.sin(r),s=Math.cos(r);return t[0]=e*s+u*o,t[1]=u*s-e*o,t[2]=a*s+i*o,t[3]=i*s-a*o,t},h.calculateW=function(t,n){var r=n[0],e=n[1],u=n[2];return t[0]=r,t[1]=e,t[2]=u,t[3]=-Math.sqrt(Math.abs(1-r*r-e*e-u*u)),t},h.dot=i.dot,h.lerp=i.lerp,h.slerp=function(t,n,r,e){var u,a,i,o,s=n[0],c=n[1],f=n[2],h=n[3],l=r[0],p=r[1],v=r[2],d=r[3],m=s*l+c*p+f*v+h*d;return Math.abs(m)>=1?(t!==n&&(t[0]=s,t[1]=c,t[2]=f,t[3]=h),t):(u=Math.acos(m),a=Math.sqrt(1-m*m),Math.abs(a)<.001?(t[0]=.5*s+.5*l,t[1]=.5*c+.5*p,t[2]=.5*f+.5*v,t[3]=.5*h+.5*d,t):(i=Math.sin((1-e)*u)/a,o=Math.sin(e*u)/a,t[0]=s*i+l*o,t[1]=c*i+p*o,t[2]=f*i+v*o,t[3]=h*i+d*o,t))},h.invert=function(t,n){var r=n[0],e=n[1],u=n[2],a=n[3],i=r*r+e*e+u*u+a*a,o=i?1/i:0;return t[0]=-r*o,t[1]=-e*o,t[2]=-u*o,t[3]=a*o,t},h.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},h.length=i.length,h.len=h.length,h.squaredLength=i.squaredLength,h.sqrLen=h.squaredLength,h.normalize=i.normalize,h.fromMat3=function(){var t=[1,2,0];return function(n,r){var e,u=r[0]+r[4]+r[8];if(u>0)e=Math.sqrt(u+1),n[3]=.5*e,e=.5/e,n[0]=(r[7]-r[5])*e,n[1]=(r[2]-r[6])*e,n[2]=(r[3]-r[1])*e;else{var a=0;r[4]>r[0]&&(a=1),r[8]>r[3*a+a]&&(a=2);var i=t[a],o=t[i];e=Math.sqrt(r[3*a+a]-r[3*i+i]-r[3*o+o]+1),n[a]=.5*e,e=.5/e,n[3]=(r[3*o+i]-r[3*i+o])*e,n[i]=(r[3*i+a]+r[3*a+i])*e,n[o]=(r[3*o+a]+r[3*a+o])*e}return n}}(),h.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&&(t.quat=h)}(t.exports)}()},{}],2:[function(t,n){n.exports=SimplexNoise=function(t){void 0==t&&(t=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=[];for(var n=0;256>n;n++)this.p[n]=Math.floor(256*t.random());this.perm=[];for(var n=0;512>n;n++)this.perm[n]=this.p[255&n];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]},SimplexNoise.prototype.dot=function(t,n,r){return t[0]*n+t[1]*r},SimplexNoise.prototype.noise=function(t,n){var r,e,u,a,i,o=.5*(Math.sqrt(3)-1),s=(t+n)*o,c=Math.floor(t+s),f=Math.floor(n+s),h=(3-Math.sqrt(3))/6,l=(c+f)*h,p=c-l,v=f-l,d=t-p,m=n-v;d>m?(a=1,i=0):(a=0,i=1);var M=d-a+h,y=m-i+h,x=d-1+2*h,g=m-1+2*h,w=255&c,q=255&f,b=this.perm[w+this.perm[q]]%12,k=this.perm[w+a+this.perm[q+i]]%12,_=this.perm[w+1+this.perm[q+1]]%12,A=.5-d*d-m*m;0>A?r=0:(A*=A,r=A*A*this.dot(this.grad3[b],d,m));var L=.5-M*M-y*y;0>L?e=0:(L*=L,e=L*L*this.dot(this.grad3[k],M,y));var j=.5-x*x-g*g;return 0>j?u=0:(j*=j,u=j*j*this.dot(this.grad3[_],x,g)),70*(r+e+u)},SimplexNoise.prototype.noise3d=function(t,n,r){var e,u,a,i,o,s,c,f,h,l,p=1/3,v=(t+n+r)*p,d=Math.floor(t+v),m=Math.floor(n+v),M=Math.floor(r+v),y=1/6,x=(d+m+M)*y,g=d-x,w=m-x,q=M-x,b=t-g,k=n-w,_=r-q;b>=k?k>=_?(o=1,s=0,c=0,f=1,h=1,l=0):b>=_?(o=1,s=0,c=0,f=1,h=0,l=1):(o=0,s=0,c=1,f=1,h=0,l=1):_>k?(o=0,s=0,c=1,f=0,h=1,l=1):_>b?(o=0,s=1,c=0,f=0,h=1,l=1):(o=0,s=1,c=0,f=1,h=1,l=0);var A=b-o+y,L=k-s+y,j=_-c+y,D=b-f+2*y,z=k-h+2*y,F=_-l+2*y,O=b-1+3*y,N=k-1+3*y,R=_-1+3*y,T=255&d,E=255&m,V=255&M,I=this.perm[T+this.perm[E+this.perm[V]]]%12,Q=this.perm[T+o+this.perm[E+s+this.perm[V+c]]]%12,S=this.perm[T+f+this.perm[E+h+this.perm[V+l]]]%12,X=this.perm[T+1+this.perm[E+1+this.perm[V+1]]]%12,C=.6-b*b-k*k-_*_;0>C?e=0:(C*=C,e=C*C*this.dot(this.grad3[I],b,k,_));var P=.6-A*A-L*L-j*j;0>P?u=0:(P*=P,u=P*P*this.dot(this.grad3[Q],A,L,j));var U=.6-D*D-z*z-F*F;0>U?a=0:(U*=U,a=U*U*this.dot(this.grad3[S],D,z,F));var Y=.6-O*O-N*N-R*R;return 0>Y?i=0:(Y*=Y,i=Y*Y*this.dot(this.grad3[X],O,N,R)),32*(e+u+a+i)}},{}],3:[function(t,n){!function(){function r(t){e.call(this),this._index=0,this._state=new Array(624),this._state[0]=null!=t?t:4294967295*Math.random()|0,this._seed=this._state[0];var n,r=this._state;for(n=1;624>n;n++)r[n]=r[n-1]^r[n-1]>>>30,r[n]=1812433253*r[n]+n,r[n]=r[n]&(r[n]<<32)-1}var e;if("undefined"!=typeof n){if(n.exports=r,"function"==typeof t)var e=t("../")}else e=this.Random,e.MT=r;var u=r.prototype=Object.create(e.prototype);u.constructor=r,u._generateNumbers=function(){var t,n,r=this._state;for(t=0;624>t;t++)n=2147483648&r[t],n+=2147483647&r[(t+1)%624],r[t]=r[(t+397)%624]^n>>>1,n%2!==0&&(r[t]=2567483615^r[t])},u.uniform=function(){0===this._index&&this._generateNumbers();var t=this._state[this._index];return t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,t^=t>>>18,this._index=(this._index+1)%624,(t>>>0)*(1/4294967296)}}()},{"../":6}],4:[function(t,n){!function(){function r(t){e.call(this),this._seed=null!=t?t:1}var e;if("undefined"!=typeof n){if(n.exports=r,"function"==typeof t)var e=t("../")}else e=this.Random,e.PM=r;var u=r.prototype=Object.create(e.prototype);u.constructor=r,u.uniform=function(){var t=16807*(this._seed>>16),n=16807*(65535&this._seed)+((32767&t)<<16)+(t>>15);return this._seed=n>2147483647?n-2147483647:n,this._seed/2147483647}}()},{"../":6}],5:[function(t,n){!function(){function r(t,n,r,u){e.call(this),this.x=null!=t?t:this.x,this.y=null!=n?n:this.y,this.z=null!=r?r:this.z,this.w=null!=u?u:this.w}var e;if("undefined"!=typeof n){if(n.exports=r,"function"==typeof t)var e=t("../")}else e=this.Random,e.XOR=r;var u=r.prototype=Object.create(e.prototype);u.constructor=r,u.x=123456789,u.y=362436069,u.z=521288629,u.w=88675123,u.uniform=function(){var t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>19^(t^t>>8),this.w/2147483647}}()},{"../":6}],6:[function(t,n){function r(){this._normal=null}r.prototype={constructor:r,get seed(){return this._seed},set seed(t){this.constructor.call(this,t)},next:function(){return 0|255*this.uniform()},random:function(){return this.uniform()},uniform:function(){return Math.random()},normal:function(){var t,n;if(null!=this._normal){var r=this._normal;return this._normal=null,r}return t=this.uniform()||Math.pow(2,-53),t=Math.sqrt(-2*Math.log(t)),n=2*Math.PI*this.uniform(),this._normal=t*Math.sin(n),t*Math.cos(n)},range:function(t,n){return null==t?this.uniform():(null==n&&(n=t,t=0),t+Math.floor(this.uniform()*(n-t)))},exp:function(){return-Math.log(this.uniform()||Math.pow(2,-53))},poisson:function(t){for(var n=Math.exp(-(t||1)),r=0,e=1;e>n;)e*=this.uniform(),r++;return r-1},gamma:function(t){var n,r,e,u,a;for(n=(1>t?1+t:t)-1/3,r=1/Math.sqrt(9*n);;){for(;;)if(e=this.normal(),a=Math.pow(1+r*e,3),a>0)break;if(u=this.uniform(),u>=1-.331*Math.pow(e,4)&&Math.log(u)>=.5*Math.pow(e,2)+n*(1-a+Math.log(a)))break}return t>1?n*a:n*a*Math.exp(this.exp()/-t)}},"undefined"!=typeof n&&(n.exports=r,"function"==typeof t&&(r.MT=t("./lib/mersenne-twister"),r.PM=t("./lib/park-miller"),r.XOR=t("./lib/xor")))},{"./lib/mersenne-twister":3,"./lib/park-miller":4,"./lib/xor":5}],7:[function(t,n){var r=32;n.exports={chunk:{width:.3,depth:.1,height:.04,scale:1/6,octaves:2,res:{width:3*r,depth:r}},lightDir:[0,1,0],board:{depth:.5},player:{radius:.005}}},{}],8:[function(t){var n=t("./surface");onmessage=function(t){var r=t.data,e=n.getChunk(r.chunkIndex);postMessage({chunkIndex:r.chunkIndex,chunk:e})}},{"./surface":9}],9:[function(t,n){function r(t,n){for(var r=0,e=h.chunk.scale,u=h.chunk.height*Math.max(0,Math.min(-n/10,1)),a=0;a<h.chunk.octaves;a++)r+=u*l.noise(t/e,n/e),u*=.5,e*=.5;return r}function e(t,n){var e=.01,u=r(t,n),a=r(t+e,n),i=r(t,n+e);return[(a-u)/e,0,(i-u)/e]}function u(t,n){var r=e(t,n);return[-r[0],-r[1],-r[2]]}function a(t,n){var e=.01,u=r(t,n),a=r(t+e,n),o=r(t,n+e),s=i([t,u,n],[t+e,a,n],[t,o,n+e]);return{p:[t,u,n],n:s}}function i(t,n,r){var e=s.vec3.sub(s.vec3.create(),n,t),u=s.vec3.sub(s.vec3.create(),r,t),a=s.vec3.cross(s.vec3.create(),u,e);return s.vec3.normalize(s.vec3.create(),a)}function o(t){for(var n=[],r=[],e=[],u=h.chunk.depth/h.chunk.res.depth,i=h.chunk.width/h.chunk.res.width,o=0,s=0;s<h.chunk.res.width;s++)for(var c=s/h.chunk.res.width*h.chunk.width-.5*h.chunk.width,f=0;f<h.chunk.res.depth;f++){var l=f/h.chunk.res.depth*h.chunk.depth+t*h.chunk.depth,p=a(c+o,l+u),v=a(c+i,l+u),d=a(c+i,l+o),m=a(c+o,l+o);n.push.apply(n,p.p),n.push.apply(n,v.p),n.push.apply(n,m.p),n.push.apply(n,v.p),n.push.apply(n,d.p),n.push.apply(n,m.p),r.push.apply(r,p.n),r.push.apply(r,v.n),r.push.apply(r,m.n),r.push.apply(r,v.n),r.push.apply(r,d.n),r.push.apply(r,m.n);var d=.02*Math.random()+.25,d=[d,d,d];e.push.apply(e,d),e.push.apply(e,d),e.push.apply(e,d),e.push.apply(e,d),e.push.apply(e,d),e.push.apply(e,d)
}return{position:new Float32Array(n),normal:new Float32Array(r),color:new Float32Array(e)}}var s=t("gl-matrix"),c=new(t("rng").MT)("foo"),f=t("perlin-simplex"),h=t("./constants"),l=new f(c);n.exports={getChunk:o,height:r,force:u}},{"./constants":7,"gl-matrix":1,"perlin-simplex":2,rng:6}]},{},[8]);